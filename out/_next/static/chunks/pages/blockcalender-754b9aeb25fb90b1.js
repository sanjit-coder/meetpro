(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7810],{32945:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blockcalender",function(){return l(49729)}])},46578:function(e,t){"use strict";t.Z={src:"/_next/static/media/backIcon.f546b7ae.png",height:80,width:80,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAASFBMVEX0+f30+Pzz+Pz0+f3z+f30+Pzz+P30+f30+P30+f3z+Pzz+Pz4/f/3/f/3/P/2+//1+v70+f3z+f3z+Pzc4eXY3eHY3OHGy88ysp4wAAAADHRSTlMvLy/X19fX2Nj9/f4/iThMAAAAPUlEQVR42j3JRw6AMBADQFMT1jRjyv9/ipJDbiMNMIi8EpAVXkMjFDpfLwZ9fPduNtR6Ss0Kb6GEPovU1P137QNZVKQzxQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},89588:function(e,t){"use strict";t.Z={src:"/_next/static/media/trashIcon.e6d6d8bd.png",height:40,width:40,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAhFBMVEV9hZJ9hZF9hJJ9hJF8hJJ8hJF9hJF9hJJ9hJF9hJJ+hJN9hJF9hZJ9hJJ8hZJ7hJF9hJF9hJJ7hJF9hJF9hJF9hJJ9hJJ9hJF8hJJ9hJJ9hJJ9hZJ9hJJ9hJF9hJJ9hJJ9hJJ9hJJ9hJF9hJJ9hJF9hJJ8hJJ9hJJ9hJJ9hZJ9hJJ9hJJUcU7wAAAALHRSTlMAAAAAAAAODw8QExMUFhsbHB0dKyw0Njk6QkRHVFRaXF1eXl9fZWVzeXyYmbz6Z/IAAABISURBVHjaBUAFEoAgEFzv7O4WxQLk//9zAEqVyoiRLtZ+dk4QiK6oe+GDz7Kq8pvhPeOxD68Lks00tReBNxnHciU4kTZGh/wDubIFNQhGKAUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},17222:function(e,t,l){"use strict";var a=l(85893);l(67294);let i=e=>{let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"backdrop",children:t})})};t.Z=i},91435:function(e,t,l){"use strict";var a=l(85893);l(67294);var i=l(47714),n=l(69835),s=l(26802),o=l(18147),r=l(45079),c=l(23619),d=l(37930),u=l(48099),h=l(40869),m=l(67763),v=l(11163);let A=e=>{let{selected:t}=e,l=(0,v.useRouter)(),A=[{tabImage:i.Z,tabName:"home",tabText:"Home",tabActive:n.Z},{tabImage:s.Z,tabName:"calls",tabText:"Calls",tabActive:o.Z},{tabImage:r.Z,tabName:"offerings",tabText:"Offerings",tabActive:c.Z},{tabImage:d.Z,tabName:"availability",tabText:"Availability",tabActive:u.Z},{tabImage:h.Z,tabName:"earnings",tabText:"Earnings",tabActive:m.Z}],b=e=>{"home"==e?l.push("/onboarding/screens/success"):l.push("/".concat(e))};return(0,a.jsx)("div",{className:"bottomNavBarContainer",children:null==A?void 0:A.map((e,l)=>{var i;return(0,a.jsx)("div",{className:"bottomNavBarContainer__tabContainer",style:{borderTop:t==(null==e?void 0:e.tabName)?"3px solid #0A1629":"none"},onClick:()=>b(null==e?void 0:e.tabName),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:t==(null==e?void 0:e.tabName)?null==e?void 0:null===(i=e.tabActive)||void 0===i?void 0:i.src:e.tabImage.src,className:"bottomNavBarContainer__tabContainer__tabImage"}),(0,a.jsx)("div",{className:"bottomNavBarContainer__tabContainer__tabName",children:null==e?void 0:e.tabText})]})},l)})})};t.Z=A},55280:function(e,t,l){"use strict";var a=l(85893);l(67294);var i=l(25675),n=l.n(i);let s=e=>{let{onClick:t,className:l="buttoncontainer__button",disabled:i,icon:s,children:o,...r}=e,c=e=>{e.stopPropagation(),t&&t()};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("button",{onClick:c,className:l,disabled:i,children:[s&&(0,a.jsx)("div",{className:"buttoncontainer__icon",children:(0,a.jsx)(n(),{src:s,style:{width:"100%",height:"100%"}})}),o]})})};t.Z=s},82322:function(e,t,l){"use strict";l.d(t,{Z:function(){return h}});var a=l(85893),i=l(67294),n=l(68543),s=l(21581),o=l(89588);l(82241);var r=l(30381),c=l.n(r),d=l(46952);let u=e=>{let{options:t,dropDownOptions:l,onChange:r,label:u}=e,[h,m]=(0,i.useState)(t),[v,A]=(0,i.useState)(!1);console.log("props received are ---",t);let b=e=>{let t=[...h];t[e].rules=[...t[e].rules,{from:"10:00",to:"10:30"}],m(t)},g=(e,t)=>{let l=JSON.parse(JSON.stringify(h));l[e].rules.splice(t,1),console.log("DELETED",l),m(l)},_=(e,t,l,a)=>{let i=[...h];"starttime"===t?(i[e].rules[a].from=l,m(i)):"endtime"===t&&(i[e].rules[a].to=l,m(i))},x=e=>{let t=[...h].map((t,l)=>0===l?t:!0===t.isActive?{...t,rules:JSON.parse(JSON.stringify(e))}:t);console.log("FILTERED OPTIONS ARE",t),m(t)};return(0,i.useEffect)(()=>{let e=h.map(e=>{let{dayTitle:t,...l}=e;return l}),t=e.map(e=>{let t=e.rules.map(e=>({from:c()(e.from,["h:mm"]).format("HH:mm"),to:c()(e.to,["h:mm"]).format("HH:mm")}));return{...e,rules:t}});r(t)},[h]),console.log("indexx availability",h),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"label",children:u}),(0,a.jsx)("div",{className:"multiselect-container",children:h&&h.length>0&&h.map((e,t)=>(0,a.jsxs)("div",{className:(null==e?void 0:e.isActive)?"multiselect-container__box multiselect-container__box__active":"multiselect-container__box",onClick:()=>{let l=[...h];(null==e?void 0:e.isActive)?l[t]={...e,id:null==e?void 0:e.id,rules:[{from:"10:00",to:"10:30"}],isActive:!1}:l[t]={...e,isActive:!0},m(l)},children:[(0,a.jsxs)("div",{className:"multiselect-container__box__info",children:[(0,a.jsx)("div",{className:"multiselect-container__box__label",children:(0,d.Z)(null==e?void 0:e.day)}),(0,a.jsx)("div",{className:"multiselect-container__box__checkboxcontainer",children:(0,a.jsx)(n.Z,{checked:null==e?void 0:e.isActive})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:(null==e?void 0:e.isActive)?"multiselect-container__box__timeslot-container multiselect-container__box__timeslot-container__active":"multiselect-container__box__timeslot-container",id:"timecontainer",onClick:e=>e.stopPropagation(),children:[h[t].rules.length>0&&h[t].rules.map((e,i)=>(0,a.jsxs)("div",{className:"multiselect-container__box__timeslot-container__timeslots",children:[(0,a.jsx)("div",{style:{width:"42%",marginRight:"10px"},children:(0,a.jsx)(s.Z,{value:e.from,placeholder:"Start",style:{width:"100%"},options:l,onChange:(e,l)=>{let{value:a}=l;return _(t,"starttime",a,i)}})}),(0,a.jsx)("div",{style:{width:"42%",marginRight:"10px"},children:(0,a.jsx)(s.Z,{value:e.to,placeholder:"End",style:{width:"100%"},options:l,onChange:(e,l)=>{let{value:a}=l;return _(t,"endtime",a,i)}})}),(0,a.jsx)("div",{className:"multiselect-container__box__timeslot-container__timeslots__ctaicons",id:"addSlot",children:h[t].rules.length>1?(0,a.jsx)("div",{className:"deleteicon",children:(0,a.jsx)("img",{src:o.Z.src,id:"deleteSlot",style:{width:"100%",height:"100%"},onClick:()=>g(t,i)})}):null})]})),(0,a.jsx)("div",{style:{textDecoration:"underline",color:"black",marginBottom:10},onClick:()=>b(t),children:"Add more slots"}),0===t&&h[t].rules.length>0&&(0,a.jsx)(n.Z,{label:"Copy time slot to all selected days.",id:"copyslot",onChange:(e,l)=>{l.checked&&x(h[t].rules)}})]})})]}))})]})};var h=u},49729:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return k}});var a={};l.r(a),l.d(a,{getBlockedDates:function(){return N},modifyBlockedDates:function(){return C},setIsLoading:function(){return j}});var i=l(85893),n=l(67294),s=l(22169);l(82322);var o=l(55280),r=l(91435),c=l(82241),d=l(10967),u=l(21581),h=l(46578),m=l(89588),v={src:"/_next/static/media/plusIcon.9bf0ead8.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEX0+f30+P30+Pz0+f3z+Pz0+f30+Pzz+Pz0+f30+f30+f30+f34/v/z+Pz0+f3z+Pzt8vbEyc31bHYtAAAADnRSTlMAAAApKSoqKr/Bwu75+igSHXQAAAA5SURBVHjaRco5EgAgCATB9QZ1Af//WQMDs6maBoqQ2jLacjNfBeo7YruAFueE8Ye8pagPd2BMUmq6ZsoC3jgDw+cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},A=l(48688),b=l(17222),g=l(40849),_=l(11163),x=l(9473),f=l(30381),J=l.n(f);l(80008);var p=l(20870);let j=e=>({type:p.SET_ISLOADING,payload:e}),N=e=>({type:null==p?void 0:p.GET_BLOCKED_DATES,payload:e}),C=e=>({type:null==p?void 0:p.MODIFY_BLOCKED_DATES,payload:e});var y=l(86501);let D=()=>{var e;let t=(0,_.useRouter)(),l=(0,x.I0)(),[f,p]=(0,n.useState)(new Date),[D,k]=(0,n.useState)(!0),[Z,S]=(0,n.useState)(!1),[w,E]=(0,n.useState)(!1),[F,z]=(0,n.useState)(!1),M=(0,n.useRef)(null),[R,B]=(0,n.useState)(""),[T,I]=(0,n.useState)(),[P,U]=(0,n.useState)(new Date),Y=new Date(P.getFullYear(),P.getMonth(),1),H=new Date(P.getFullYear(),P.getMonth()+2,0),O=(0,x.v9)(e=>null==e?void 0:e.blockedDatesReducer),[L,V]=(0,n.useState)(!1);(0,n.useEffect)(()=>{l(null==a?void 0:j(!0)),l(null==a?void 0:N()),(null==window?void 0:window.innerWidth)<768?E(!1):E(!0)},[]),(0,n.useEffect)(()=>{(null==O?void 0:O.isLoading)?S(!0):S(!1)},[null==O?void 0:O.isLoading]),(0,n.useEffect)(()=>{M.current&&M.current.focus()},[T]);let K=e=>{""==R&&B(J()().month()+1);let t=null==O?void 0:O.blockedDatesData.filter(e=>{let t=J()(e.date,"YYYY-MM-DD");return t.month()===R-1}),l=t.map(e=>parseInt(J()(e.date,"YYYY-MM-DD").format("D")));return!(null==l?void 0:l.includes(e.getDate()))},Q=(e,t)=>{var l;M.current=t.currentTarget,z(!1),p(e),J().tz(e,"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ","GMT+4").utc();let a=null==O?void 0:null===(l=O.blockedDatesData)||void 0===l?void 0:l.find(t=>new Date(t.date).toDateString()===e.toDateString());a&&I(a)},G=(e,t,l)=>{k(!1);let a={...T};"starttime"===t?(a.slots[e].from=l,I(a)):"endtime"===t&&(a.slots[e].to=l,I(a)),console.log("customoptions",a)},X=()=>{t.push("/availability")},W=e=>{let t=J()(null==e?void 0:e.activeStartDate);B(null==t?void 0:t.format("M"))},q=e=>{k(!1),I({...T,slots:[...T.slots,{from:"10:00",to:"10:30"}]})},$=e=>{var t;k(!1),console.log("slotsxxx",T,e);let l={...T};null==l||null===(t=l.slots)||void 0===t||t.splice(e,1),I(l)},ee=()=>{t.push("/availability"),y.ZP.success("Availability changed successfully")},et=()=>{let e={date:null==T?void 0:T.date,isActive:!0,rules:F?[]:[...null==T?void 0:T.slots]};l(null==a?void 0:C({payload:e,callBack:ee}))},el=()=>{k(!1),z(!F)},ea=e=>{e.currentTarget.contains(e.relatedTarget)||(M.current.focus(),V(!0))},ei=()=>{p(f),M.current.focus(),V(!0)};return(0,i.jsxs)(i.Fragment,{children:[!w&&(0,i.jsx)(A.Z,{logo:h.Z,heading:"Configure Availability",handleBack:X}),(0,i.jsx)(d.Z,{tabSelected:"availability",IsDesktopView:w,children:(0,i.jsxs)("div",{className:"blockcalenderContainer",onBlur:ea,children:[(0,i.jsx)("div",{className:"blockcalenderContainer__heading",children:"Configure availability"}),(0,i.jsx)("div",{className:"blockcalenderContainer__subHeading",children:"Block dates on which you are unavailable or Update your availability timings for specific dates."}),(0,i.jsx)("div",{className:"blockcalenderContainer__calenderContainer",ref:M,children:(0,i.jsx)(s.ZP,{onActiveStartDateChange:e=>W(e),value:f,view:"month",prev2Label:null,showNeighboringMonth:!1,next2Label:null,tileDisabled:e=>{let{date:t}=e;return K(t)},tileClassName:"tileview",onClickDay:Q,minDate:Y,maxDate:H})}),(null==T?void 0:T.slots)&&(0,i.jsx)("div",{className:"blockcalenderContainer__selectTime",children:"Select Time"}),(0,i.jsx)("div",{className:"blockcalenderContainer__timeslot-container",children:(null==T?void 0:T.slots)&&(null==T?void 0:null===(e=T.slots)||void 0===e?void 0:e.map((e,t)=>{var l,a;return(0,i.jsxs)("div",{className:"blockcalenderContainer__timeslot-container__timeslots",children:[(0,i.jsx)("div",{style:{width:"42%",marginRight:"10px"},children:(0,i.jsx)(u.Z,{onFocus:ei,disabled:F,value:e.from,placeholder:"Start",style:{width:"100%"},options:c.bp,onChange:(e,l)=>{let{value:a}=l;return G(t,"starttime",a)}})}),(0,i.jsx)("div",{style:{width:"42%",marginRight:"10px"},children:(0,i.jsx)(u.Z,{onFocus:ei,disabled:F,value:e.to,placeholder:"End",style:{width:"100%"},options:c.bp,onChange:(e,l)=>{let{value:a}=l;return G(t,"endtime",a)}})}),(null==T?void 0:null===(l=T.slots)||void 0===l?void 0:l.length)>1&&!F?(0,i.jsx)("div",{className:"blockcalenderContainer__timeslot-container__timeslots__ctaicons",id:"addSlot",children:(0,i.jsx)("div",{className:"deleteicon",children:(0,i.jsx)("img",{src:m.Z.src,id:"deleteSlot",style:{width:"100%",height:"100%"},onClick:()=>$(t)})})}):null,t>=0&&(null==T?void 0:null===(a=T.slots)||void 0===a?void 0:a.length)<=2&&!F&&(0,i.jsx)("img",{className:"addicon",src:null==v?void 0:v.src,onClick:()=>q(t)})]})}))}),T&&(0,i.jsxs)("div",{className:"blockcalenderContainer__timeslot-container__unavailableContainer",children:[(0,i.jsx)("div",{className:"blockcalenderContainer__timeslot-container__unavailableContainer__text",children:"Unavailable all day"}),(0,i.jsx)(function(e){let{isChecked:t,unavailabilityChange:l}=e;return(0,i.jsxs)("label",{className:"toggle",children:[(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:()=>l()}),(0,i.jsx)("span",{className:"slider round"})]})},{isChecked:F,unavailabilityChange:el})]}),(0,i.jsx)("div",{className:"blockcalenderContainer-buttonContainer",children:(0,i.jsx)(o.Z,{className:"buttoncontainer__button blockcalenderContainer-buttonContainer__blockedCalender",onClick:()=>et(),disabled:D,children:"Save Changes"})})]})}),!w&&(0,i.jsx)(r.Z,{selected:"availability"}),Z&&(0,i.jsx)(b.Z,{children:(0,i.jsx)(g.Z,{active:!0,size:"large"})})]})};var k=D},46952:function(e,t){"use strict";let l=e=>{switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}};t.Z=l}},function(e){e.O(0,[4885,2678,5675,5122,9149,6559,2794,1664,781,7969,9774,2888,179],function(){return e(e.s=32945)}),_N_E=e.O()}]);