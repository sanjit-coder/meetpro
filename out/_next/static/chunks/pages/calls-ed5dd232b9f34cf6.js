(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7924],{21782:function(l,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/calls",function(){return i(78762)}])},78721:function(l,e,i){"use strict";i.d(e,{Z:function(){return u}});var n=i(85893),a=i(67294),s=i(46066),o={src:"/_next/static/media/invertedComma.fc477f81.svg",height:32,width:40,blurWidth:0,blurHeight:0},t=i(22556),d={src:"/_next/static/media/lefttestimonial.11ec0c2b.svg",height:44,width:44,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/rightTestimonial.09a3a705.svg",height:44,width:44,blurWidth:0,blurHeight:0};let r=l=>{let{callsPage:e=!1,testimonialData:i}=l,r=(0,a.useRef)();return(0,n.jsx)("div",{className:e?"testimonialcardContainer testimonialcardContainer__callsPage":"testimonialcardContainer",children:(0,n.jsxs)("div",{className:"testimonialcardContainer__slides",children:[(0,n.jsx)(s.Z,{ref:l=>r.current=l,dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,lazyLoad:"progressive",centerPadding:"8px 0 0 ",children:i&&(null==i?void 0:i.length)>0&&(null==i?void 0:i.map(l=>{var e,i;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"testimonialcardContainer__slides__card",children:[(0,n.jsx)("div",{className:"testimonialcardContainer__slides__card__topContainer",children:(0,n.jsx)("img",{src:null==o?void 0:o.src,className:"testimonialcardContainer__slides__card__topContainer__img"})}),(0,n.jsx)("div",{className:"testimonialcardContainer__slides__card__reviewText",children:null==l?void 0:l.testimonial}),(0,n.jsxs)("div",{className:"testimonialcardContainer__slides__card__bottomContainer",children:[(0,n.jsxs)("div",{className:"testimonialcardContainer__slides__card__bottomContainer__left",children:[(0,n.jsx)("div",{className:"testimonialcardContainer__slides__card__bottomContainer__left__name",children:(null==l?void 0:l.customerName)||(null==l?void 0:null===(e=l.customer)||void 0===e?void 0:e.name)}),(0,n.jsx)("div",{className:"testimonialcardContainer__slides__card__bottomContainer__left__service",children:(null==l?void 0:l.serviceTitle)||(null==l?void 0:null===(i=l.service)||void 0===i?void 0:i.title)})]}),(0,n.jsx)("div",{className:"testimonialcardContainer__slides__card__bottomContainer__right",children:(0,n.jsx)(t.Z,{icon:"star",rating:null==l?void 0:l.rating,maxRating:5,disabled:!0})})]})]})})}))}),i&&i.length>1&&(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px",position:"relative"},children:[(0,n.jsx)("div",{className:"testimonialarrow",onClick:()=>{var l;return null==r?void 0:null===(l=r.current)||void 0===l?void 0:l.slickPrev()},children:(0,n.jsx)("img",{src:d.src,style:{width:"100%",height:"100%"}})}),(0,n.jsx)("div",{className:"testimonialarrow",onClick:()=>{var l;return null==r?void 0:null===(l=r.current)||void 0===l?void 0:l.slickNext()},children:(0,n.jsx)("img",{src:c.src,style:{width:"100%",height:"100%"}})})]})]})})};var u=r},78762:function(l,e,i){"use strict";i.r(e),i.d(e,{default:function(){return M}});var n=i(85893),a=i(67294),s=i(9473),o=i(76050),t=i(48688),d=i(21473);i(71250);var c=i(11505),r=i(51785);i(6319);var u=i(17072),v={src:"/_next/static/media/trash.da1c7176.svg",height:24,width:25,blurWidth:0,blurHeight:0},m=i(92719),_=i(28992),h=i(17222),x=i(40849),g=i(98658),p=i(24856);i(9432);var j=i(58803),C=i(58533),b=i(91435),N=i(86501),y=i(10967),f=i(11163),w=i(63315),Z=i(2988),k=i(6154),S=i(78721),T=i(75171);let L=(0,Z.Z)(),I=()=>{var l,e,i,I,M,R,E,P,A,B,U,q,D,F,O,H,G,W,z,Y,V,J,X,Q,K,$;let ll=(0,s.I0)(),le=(0,s.v9)(l=>l),li=(0,f.useRouter)(),ln=(0,s.v9)(l=>null==l?void 0:l.callingReducer),la=(0,s.v9)(l=>null==l?void 0:l.testimonialReducer),ls=(0,s.v9)(l=>{var e;return null==l?void 0:null===(e=l.callingReducer)||void 0===e?void 0:e.count}),lo=[{id:1,name:"upcoming",text:"Upcoming Calls",isSelected:!0,count:null==ls?void 0:ls.upcoming},{id:2,name:"completed",text:"Completed Calls",isSelected:!1,count:null==ls?void 0:ls.completed}],[lt,ld]=(0,a.useState)({}),[lc,lr]=(0,a.useState)(),[lu,lv]=(0,a.useState)(!1),[lm,l_]=(0,a.useState)(!1),[lh,lx]=(0,a.useState)(!1),[lg,lp]=(0,a.useState)(),[lj,lC]=(0,a.useState)(),[lb,lN]=(0,a.useState)({show:!1,bookingId:""}),[ly,lf]=(0,a.useState)(!1),lw=async l=>await (0,k.Z)({method:"GET",baseURL:w.Z.API_BASE_URL,url:"/insta-learn/bookings/details?bookingId=".concat(l),headers:{"x-access-token":(0,Z.Z)()}}),lZ=async(l,e)=>await (0,k.Z)({method:"GET",baseURL:w.Z.API_BASE_URL,url:"/insta-learn/testimonial/details?id=".concat(l,"&enc=").concat(e),headers:{"x-access-token":(0,Z.Z)()}}),lk=async(l,e)=>{var i,n,a,s,o,t,d,c,r,u,v,m,_,h,x;ll(p.wt(!0));try{let h=await lZ(l,e);if((null==h?void 0:null===(i=h.data)||void 0===i?void 0:i.message)==="success"){let l=[{testimonial:null==h?void 0:null===(n=h.data)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.testimonial,customerName:null==h?void 0:null===(s=h.data)||void 0===s?void 0:null===(o=s.data)||void 0===o?void 0:o.customerName,serviceTitle:null==h?void 0:null===(t=h.data)||void 0===t?void 0:null===(d=t.data)||void 0===d?void 0:d.serviceTitle,rating:null==h?void 0:null===(c=h.data)||void 0===c?void 0:null===(r=c.data)||void 0===r?void 0:r.rating}];ll(p.wt(!1)),lC(l),lp(null==h?void 0:null===(u=h.data)||void 0===u?void 0:null===(v=u.data)||void 0===v?void 0:v.testimonialId),l_(!0),lx(null==h?void 0:null===(m=h.data)||void 0===m?void 0:null===(_=m.data)||void 0===_?void 0:_.isPublished)}else ll(p.wt(!1)),l_(!1),lx(!0)}catch(l){ll(p.wt(!1)),N.ZP.error(null==l?void 0:null===(h=l.response)||void 0===h?void 0:null===(x=h.data)||void 0===x?void 0:x.message),lx(!0),l_(!1)}},lS=async(l,e)=>{if(l)lr(l);else{var i;let l=await lw(e);lr(null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.data)}lv(!0)};(0,a.useEffect)(()=>{var l,e,i,n;(null==li?void 0:li.isReady)&&(null==li?void 0:li.pathname)==="/calls"&&(null==li?void 0:null===(l=li.query)||void 0===l?void 0:l.bookingId)?L?lS(null,null==li?void 0:null===(i=li.query)||void 0===i?void 0:i.bookingId):li.push("/authorization"):(null==li?void 0:li.isReady)&&(null==li?void 0:li.pathname)==="/calls"&&(null==li?void 0:null===(e=li.query)||void 0===e?void 0:e.testimonialId)&&(L?lk(null==li?void 0:null===(n=li.query)||void 0===n?void 0:n.testimonialId,1):li.push("/authorization"))},[li]),(0,a.useEffect)(()=>{ll(null==g?void 0:g.setIsLoading(!0)),ll(null==g?void 0:g.getServiceCount()),(null==window?void 0:window.innerWidth)<768?lf(!1):lf(!0)},[]),(0,a.useEffect)(()=>{(null==lt?void 0:lt.count)&&(ll(null==g?void 0:g.setIsLoading(!0)),ll(null==g?void 0:g.getAllCalls({type:(null==lt?void 0:lt.type)||"upcoming",limit:10,offset:0,totalService:parseInt(null==lt?void 0:lt.count)})))},[lt]),(0,a.useEffect)(()=>{ls&&ld({type:"upcoming",count:null==ls?void 0:ls.upcoming})},[ls]);let lT=()=>{ll(null==g?void 0:g.getAllCalls({type:null==lt?void 0:lt.type,limit:null==ln?void 0:ln.limit,offset:null==ln?void 0:ln.offset,totalService:parseInt(null==lt?void 0:lt.count)}))},lL=l=>{navigator.clipboard.writeText(l),N.ZP.success("Copied Successfully")},lI=()=>{li.replace("/calls"),N.ZP.success("Testimonial published successfully")},lM=()=>{li.replace("/calls"),N.ZP.success("Testimonial unpublished !")},lR=()=>{let l={publish:!0,testimonialId:parseInt(lg)};l_(!1),ll(p.Oh({payload:l,callBack:lI}))},lE=()=>{let l={publish:!1,testimonialId:parseInt(lg)};l_(!1),ll(p.GL({payload:l,callBack:lM}))};return(0,a.useEffect)(()=>{console.log("SELECTED DATA IS",lc)},[lc]),(0,n.jsxs)(n.Fragment,{children:[!ly&&(0,n.jsx)(t.Z,{logo:d.Z,backIcon:!1,profile:{src:null==le?void 0:null===(l=le.onboardingReducer)||void 0===l?void 0:null===(e=l.user)||void 0===e?void 0:e.imageUrl}}),(0,n.jsx)(y.Z,{tabSelected:"calls",IsDesktopView:ly,children:(0,n.jsx)("div",{className:"callscontainer",children:(0,n.jsxs)("div",{className:"callscontainer__box",children:[(0,n.jsx)("div",{className:"callscontainer__box__header",children:null==lo?void 0:lo.map(l=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"callscontainer__box__header__badge ".concat((null==l?void 0:l.name)==(null==lt?void 0:lt.type)?"callHeaderActive":"callHeaderNonActive"," "),onClick:e=>ld({type:null==l?void 0:l.name,count:null==l?void 0:l.count}),children:[null==l?void 0:l.text,(0,n.jsx)("span",{className:"callscontainer__box__header__badge__count",children:null==l?void 0:l.count})]})}))}),!le.callingReducer.allCalls.length&&(null==lt?void 0:lt.type)=="upcoming"&&(0,n.jsxs)("div",{className:"callscontainer__nocallsbox",children:[(0,n.jsx)("div",{className:"primary",children:"No Upcoming Calls"}),(0,n.jsx)("div",{className:"secondary",children:"Looks like you don't have any upcoming calls as of now"})]}),!le.callingReducer.allCalls.length&&(null==lt?void 0:lt.type)=="completed"&&(0,n.jsxs)("div",{className:"callscontainer__nocallsbox",children:[(0,n.jsx)("div",{className:"primary",children:"No Completed Calls"}),(0,n.jsx)("div",{className:"secondary",children:"Looks like you have no completed calls"})]}),(null==lt?void 0:lt.type)=="upcoming"&&Object.entries(ls).length&&le.callingReducer.allCalls.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"callscontainer__box__upcoming",children:"Next Upcoming Call"}),(0,n.jsx)(o.Z,{data:le.callingReducer.allCalls[0],highlight:!0,onSelectCard:lS,showCta:!0}),!!(null===(i=ln.allCalls)||void 0===i?void 0:i.slice(1).length)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"callscontainer__box__nextBookings",children:"Next bookings"}),(0,n.jsx)("div",{id:"nextBookings",className:"infinitescrollcontainer-nextBookings",children:(0,n.jsx)(C.Z,{dataLength:(null==ln?void 0:ln.dataLength)||0,next:lT,scrollThreshold:.8,hasMore:null==ln?void 0:ln.hasMore,scrollableTarget:ly?"nextBookings":"",loader:(0,n.jsx)(x.Z,{}),endMessage:(null===(I=ln.allCalls)||void 0===I?void 0:I.length)!==0?(0,n.jsx)("p",{style:{textAlign:"center",margin:"10px 0px"},children:(0,n.jsx)("b",{children:"Yay! You have seen it all"})}):(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)("div",{className:"callscontainer__box__nextBookingsContainer",children:null===(M=null===(R=ln.allCalls)||void 0===R?void 0:R.slice(1))||void 0===M?void 0:M.map(l=>(0,n.jsx)(o.Z,{data:l,onSelectCard:lS,showCta:!1}))})})})]})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{id:"completedCalls",className:"infinitescroll-completedcalls",children:(0,n.jsx)(C.Z,{dataLength:(null==ln?void 0:ln.dataLength)||0,next:lT,scrollThreshold:.8,scrollableTarget:ly?"completedCalls":"",hasMore:null==ln?void 0:ln.hasMore,loader:(0,n.jsx)(x.Z,{}),endMessage:(null===(E=ln.allCalls)||void 0===E?void 0:E.length)!==0?(0,n.jsx)("p",{style:{textAlign:"center",margin:"10px 0px"},children:(0,n.jsx)("b",{children:"Yay! You have seen it all"})}):(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)("div",{className:"callscontainer__box__nextBookingsContainer",children:null===(P=ln.allCalls)||void 0===P?void 0:P.map(l=>(0,n.jsx)(o.Z,{data:l,completed:!0,onSelectCard:lS,showCta:!1,onClickTestimonial:l=>lk(l,0)}))})})})})]})})}),!ly&&(0,n.jsx)(b.Z,{selected:"calls"}),lu&&(0,n.jsx)(j.Z,{customClass:"calls_modalContainer",open:lu,header:"Session Details",onCloseBottomSheet:()=>{li.replace("/calls",void 0,{shallow:!0}),lv(!1)},children:(0,n.jsxs)("div",{className:"callsModalContainer",children:[(0,n.jsxs)("div",{className:"callsModalContainer__basicDetails",children:[(0,n.jsxs)("div",{className:"callsModalContainer__basicDetails__personalinfo",children:[(0,n.jsxs)("div",{className:"topcontainer",children:[(0,n.jsxs)("div",{className:"topcontainer__name",children:[" ",null==lc?void 0:null===(A=lc.payment)||void 0===A?void 0:null===(B=A.customer)||void 0===B?void 0:B.name]}),(0,n.jsxs)("div",{className:"topcontainer__phone",children:[" ",null==lc?void 0:null===(U=lc.payment)||void 0===U?void 0:null===(q=U.customer)||void 0===q?void 0:q.mobile]})]}),(0,n.jsxs)("div",{className:"bottomcontainer",children:[(0,n.jsxs)("div",{className:"bottomcontainer__details",children:[(0,n.jsx)("img",{src:null===r.Z||void 0===r.Z?void 0:r.Z.src}),(0,n.jsx)("div",{className:"bottomcontainer__details__text",children:null==lc?void 0:null===(D=lc.payment)||void 0===D?void 0:null===(F=D.customer)||void 0===F?void 0:F.email})]}),(0,n.jsxs)("div",{className:"bottomcontainer__details",children:[(0,n.jsx)("img",{src:null===c.Z||void 0===c.Z?void 0:c.Z.src}),"â‚¹"," ",(0,n.jsx)("div",{className:"bottomcontainer__details__text",children:null==lc?void 0:null===(O=lc.payment)||void 0===O?void 0:O.amount})]}),(null==lc?void 0:null===(H=lc.payment)||void 0===H?void 0:null===(G=H.customer)||void 0===G?void 0:G.linkedinUrl)!==null&&(0,n.jsxs)("div",{className:"bottomcontainer__details",children:[(0,n.jsx)("img",{src:null===m.Z||void 0===m.Z?void 0:m.Z.src,className:"bottomcontainer__details__linkedinImage"}),(0,n.jsxs)("a",{className:"bottomcontainer__details__linktag",href:null==lc?void 0:null===(W=lc.payment)||void 0===W?void 0:null===(z=W.customer)||void 0===z?void 0:z.linkedinUrl,target:"_blank",children:["Linkedin Profile URL",(0,n.jsx)("span",{className:"bottomcontainer__details__linkarrow",children:(0,n.jsx)("img",{src:null===_.Z||void 0===_.Z?void 0:_.Z.src,style:{width:"100%",height:"100%"}})})]})]})]})]}),(null==lc?void 0:null===(Y=lc.payment)||void 0===Y?void 0:null===(V=Y.customer)||void 0===V?void 0:V.query)!==""&&(0,n.jsx)("div",{className:"callsModalContainer__otherdetails__header",style:{marginTop:"24px"},children:"Doubts regarding the session"}),(null==lc?void 0:null===(J=lc.payment)||void 0===J?void 0:null===(X=J.customer)||void 0===X?void 0:X.query)!==""&&(0,n.jsx)("div",{className:"callsModalContainer__otherdetails__doubtsection",children:null==lc?void 0:null===(Q=lc.payment)||void 0===Q?void 0:null===(K=Q.customer)||void 0===K?void 0:K.query}),(0,n.jsx)("div",{className:"callsModalContainer__otherdetails__header",style:{marginTop:"16px"},children:"Meet Link"}),(0,n.jsxs)("div",{className:"callsModalContainer__otherdetails__meetbox",children:[(0,n.jsx)("span",{children:null==lc?void 0:lc.meetingLink}),(0,n.jsx)("img",{onClick:()=>lL(null==lc?void 0:lc.meetingLink),src:u.Z.src,className:"callsModalContainer__otherdetails__meetbox__img"})]})]}),lc&&(null==lc?void 0:lc.answers)!==null&&0!==JSON.parse(null==lc?void 0:lc.answers).length&&(0,n.jsx)("div",{className:"callsModalContainer__otherdetails",children:lc&&(null===($=JSON.parse(null==lc?void 0:lc.answers))||void 0===$?void 0:$.map(l=>(0,n.jsx)(T.Z,{label:null==l?void 0:l.question,icon:"",disabled:!0,value:null==l?void 0:l.answer,placeholder:"User has not responded to this question yet",onChange:l=>console.log(":",l),textArea:!0,inputType:"textarea",isQuestion:!0})))})]})}),lm&&(0,n.jsx)(j.Z,{customClass:"calls_modalContainer",open:lm,header:"Testimonial",onCloseBottomSheet:()=>{li.replace("/calls",void 0,{shallow:!0}),l_(!1)},children:(0,n.jsxs)("div",{className:"testimonialModalContainer",children:[(0,n.jsx)("div",{style:{flex:1},children:(0,n.jsx)(S.Z,{testimonialData:lj,callsPage:!0})}),(0,n.jsxs)("button",{className:lh?"testimonialModalContainer__publishButton testimonialModalContainer__publishButton__delete":"testimonialModalContainer__publishButton",onClick:()=>{lh?lE():lR()},children:[lh&&(0,n.jsx)("span",{className:"trashicon",children:(0,n.jsx)("img",{src:v.src,alt:"Trash icon",style:{width:"100%",height:"100%"}})}),(0,n.jsx)("span",{className:"publishtext",children:lh?"Unpublish Testimonial":"Publish on your page"})]})]})}),((null==ln?void 0:ln.isLoading)||(null==la?void 0:la.isLoading))&&(0,n.jsx)(h.Z,{children:(0,n.jsx)(x.Z,{active:!0,size:"large"})})]})};var M=I},24856:function(l,e,i){"use strict";i.d(e,{GL:function(){return d},Oh:function(){return t},Ov:function(){return s},i6:function(){return o},wt:function(){return a}});var n=i(87290);let a=l=>({type:n.GA,payload:l}),s=l=>({type:n.T0,payload:l}),o=l=>({type:n.Cl,payload:l}),t=l=>({type:n.oN,payload:l}),d=l=>({type:n.VV,payload:l})}},function(l){l.O(0,[4885,5675,5122,9149,6559,2794,1664,416,9795,1726,3143,7969,6415,9774,2888,179],function(){return l(l.s=21782)}),_N_E=l.O()}]);